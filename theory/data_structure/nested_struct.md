# NASTED STRUCTS - –í–õ–û–ñ–ï–ù–ù–´–ï –°–¢–†–£–ö–¢–£–†–´
**–í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã** ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è –æ–¥–Ω—É –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä, 
–ø–æ–∑–≤–æ–ª—è—è –æ—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ, –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö.
```go
type Address struct {
    City  string
    Street string
}

// Adress –≤–ª–æ–∂–µ–Ω –≤ User
type User struct {
    Name    string
    Age     int
    Address Address  // –¥–æ—Å—Ç—É–ø - u.Address.City

}
```
üìå –í–∞–∂–Ω–æ
* –ï—Å–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–π struct —Ö—Ä–∞–Ω–∏—Ç—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é, –æ–Ω –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º.
* –ï—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ–ª—å—à–∞—è ‚Äî –ª—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å:
```go
type User struct {
    Name string
    Addr *Address
}
```
## 1. –ê–Ω–æ–Ω–∏–º–Ω—ã–µ (embedded) —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
### –ß—Ç–æ —Ç–∞–∫–æ–µ –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ?
–≠—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ç–∏–ø—Ñ –≤–Ω—É—Ç—Ä–∏ struct –±–µ–∑ –∏–º–µ–Ω–∏ –ø–æ–ª—è.
```go
type Address struct {
    City string
}

type User struct {
    Name string
    Address
}
```
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å `u.City`, –∞ –Ω–µ `u.Address.City`. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **–≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ (embedding)**.
### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏?
Go –¥–µ–ª–∞–µ—Ç promotion:
* –ü–æ–ª—è –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞–ø—Ä—è–º—É—é
* –ú–µ—Ç–æ–¥—ã –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ —Ç–æ–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞–ø—Ä—è–º—É—é
* –ù–æ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–ª–æ–∂–µ–Ω–∞.
### –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤
```go
type Address struct{}

func (a Address) Print() {
    fmt.Println("Address")
}

type User struct {
    Address
}
```
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ `u.Print()` –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –±—ã–ª –æ–±—ä—è–≤–ª–µ–Ω —É `Address`

üìå **–≠—Ç–æ –ù–ï –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**
–í Go –Ω–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è. **Embedding** = –∫–æ–º–ø–æ–∑–∏—Ü–∏—è + promotion.
### –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–µ—Ä—Å–∏–π –º–µ—Ç–æ–¥–æ–≤
–ò–Ω–æ–≥–¥–∞ –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–µ—Ç–æ–¥–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –º–µ—Ç–æ–¥ —Å —Ç–µ–º –∂–µ –∏–º–µ–Ω–µ–º 
–¥–ª—è –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞, –∏ –æ–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–º–µ—Å—Ç–æ –º–µ—Ç–æ–¥–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞:
```go
// –ú–µ—Ç–æ–¥ –¥–ª—è —Ç–∏–ø–∞ Person
func (p Person) Greet() string {
	return "–ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç " + p.Name
}

// –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –º–µ—Ç–æ–¥–∞ –¥–ª—è —Ç–∏–ø–∞ Employee
func (e Employee) Greet() string {
	return "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —è " + e.Position + " " + e.Name
}

func main() {
	e := Employee{
		Person: Person{
			Name: "–ö–∞—Ä–∏–Ω–∞", 
			Age: 28,
		},
		Position: "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫",
	}
	
	// –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –º–µ—Ç–æ–¥–∞
	fmt.Println(e.Greet()) // –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —è –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ö–∞—Ä–∏–Ω–∞
	
	// –ú–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥, –æ–±—Ä–∞—â–∞—è—Å—å —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ç–∏–ø
	fmt.Println(e.Person.Greet()) // –ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç –ö–∞—Ä–∏–Ω–∞
}
```
### –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ç–∏–ø–æ–≤
–í Go –º–æ–∂–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω—è—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
```go
// –¢–∏–ø —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞–¥—Ä–µ—Å–µ
type Address struct {
	City    string // –ì–æ—Ä–æ–¥
	Country string // –°—Ç—Ä–∞–Ω–∞
}

// –ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞
func (a Address) FullAddress() string {
	return a.City + ", " + a.Country
}

// –¢–∏–ø —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —á–µ–ª–æ–≤–µ–∫–µ
type Person struct {
	Name string // –ò–º—è
	Age  int    // –í–æ–∑—Ä–∞—Å—Ç
}

// –°–æ—Ç—Ä—É–¥–Ω–∏–∫, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —á–µ–ª–æ–≤–µ–∫–∞ –∏ –∞–¥—Ä–µ—Å–∞
type Employee struct {
	Person   // –í—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —á–µ–ª–æ–≤–µ–∫–µ
	Address  // –í—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞–¥—Ä–µ—Å–µ
	Position string // –î–æ–ª–∂–Ω–æ—Å—Ç—å
}

func main() {
	e := Employee{
		Person: Person{
			Name: "–î–º–∏—Ç—Ä–∏–π", 
			Age: 35,
		},
		Address: Address{
			City: "–ú–æ—Å–∫–≤–∞", 
			Country: "–†–æ—Å—Å–∏—è",
		},
		Position: "–ê–Ω–∞–ª–∏—Ç–∏–∫",
	}

	// –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤
	fmt.Println("–ò–º—è:", e.Name)                     // –î–º–∏—Ç—Ä–∏–π
	fmt.Println("–ê–¥—Ä–µ—Å:", e.FullAddress())          // –ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è
	fmt.Println("–î–æ–ª–∂–Ω–æ—Å—Ç—å:", e.Position)           // –ê–Ω–∞–ª–∏—Ç–∏–∫
}
```
### –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —É–∫–∞–∑–∞—Ç–µ–ª—è
```go
// –ú–æ–∂–Ω–æ –≤—Å—Ç—Ä–æ–∏—Ç—å —É–∫–∞–∑–∞—Ç–µ–ª—å:
type User struct {
    *Address
}

// ‚ö†Ô∏è –¢–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç panic –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ.:
u := User{
Address: &Address{City: "Seoul"},
}
```
### –í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
```go
type Reader interface {
    Read()
}

type MyStruct struct {
    Reader
}
// –¢–µ–ø–µ—Ä—å MyStruct –æ–±—è–∑–∞–Ω —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å Read() –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ embedding.
```
### –ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º—ë–Ω
–ï—Å–ª–∏ –¥–≤–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ç–∏–ø–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª—è:
```go
type A struct { Name string }
type B struct { Name string }

type C struct {
    A
    B
}
// –ù–µ–ª—å–∑—è –ø–∏—Å–∞—Ç—å - –æ—à–∏–±–∫–∞
c.Name 

// –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Ç–æ—á–Ω—è—Ç—å
c.A.Name
c.B.Name

```

## 2. –í–ª–æ–∂–µ–Ω–Ω—ã–µ slice
```go
type User struct {
    Name string
    Tags []string
}
```

–ß—Ç–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å
* slice ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞ (header)
* –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ struct –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ header
* –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –æ–±—â–∏–º–∏

```go
u2 := u1
u2.Tags[0] = "new" // –ò–∑–º–µ–Ω–∏—Ç—Å—è –∏ u1.Tags.
```

## 3. –í–ª–æ–∂–µ–Ω–Ω—ã–µ map
```go
type User struct {
    Scores map[string]int
}
```
–¢–æ–∂–µ —Å—Å—ã–ª–æ—á–Ω—ã–π —Ç–∏–ø.
‚ö†Ô∏è Map –Ω—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å: `u.Scores = make(map[string]int)`

## 4. –ì–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```go
type Order struct {
    ID    int
    Items []Item
}

type Item struct {
    Product Product
    Qty     int
}

type Product struct {
    Name  string
    Price float64
}
// –î–æ—Å—Ç—É–ø - order.Items[0].Product.Name
```

## 5. Map –≤–Ω—É—Ç—Ä–∏ map
```go
m := map[string]map[string]int{} // –ù—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é `map`, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç `panic`:
if m[key] == nil {
    m[key] = make(map[string]int)
}

```

## 6. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
üì¶ **–ß—Ç–æ —Ç–∞–∫–æ–µ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è?**
–≠—Ç–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ:
* —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
* –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ —Å–µ—Ç–∏
* –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ë–î
* –ø–µ—Ä–µ–¥–∞—Ç—å –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

–û–±—ã—á–Ω–æ —ç—Ç–æ —Ñ–æ—Ä–º–∞—Ç:
* JSON
* XML
* YAML
* Protobuf

üß© **–ß—Ç–æ –∑–Ω–∞—á–∏—Ç "—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä"?**
–≠—Ç–æ –∫–æ–≥–¥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –¥—Ä—É–≥–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, slice, map ‚Äî –∏ —Ç—ã –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—à—å –≤—Å—ë —ç—Ç–æ –≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, JSON.

### üìå –ü—Ä–∏–º–µ—Ä 
```go
type Address struct {
    City  string `json:"city"`
    Zip   string `json:"zip"`
}

type User struct {
    Name    string  `json:"name"`
    Age     int     `json:"age"`
    Address Address `json:"address"`
}
```
### üìå –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ JSON
```go
u := User{
    Name: "Anna",
    Age:  25,
    Address: Address{
        City: "Seoul",
        Zip:  "12345",
    },
}

data, _ := json.Marshal(u)
fmt.Println(string(data))
```
### –†–µ–∑—É–ª—å—Ç–∞—Ç
```json
{
  "name": "Anna",
  "age": 25,
  "address": {
    "city": "Seoul",
    "zip": "12345"
  }
}

```

## 7. –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è (–æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å)
```go
var u User
json.Unmarshal(data, &u) // JSON —Å–Ω–æ–≤–∞ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ Go-—Å—Ç—Ä—É–∫—Ç—É—Ä—É.
```