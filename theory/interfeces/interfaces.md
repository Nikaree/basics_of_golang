#  –ö–û–ù–¶–ï–ü–¶–ò–Ø –ò–ù–¢–ï–†–§–ï–ô–°–û–í –í GO
**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** –≤ Go ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö –∏ –ø—Ä–∏ —ç—Ç–æ–º ¬´–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö¬ª –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —è–∑—ã–∫–∞. 
–≠—Ç–æ —Ç–∏–ø, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –Ω–∞–±–æ—Ä –º–µ—Ç–æ–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥—Ä—É–≥–∏–º–∏ —Ç–∏–ø–∞–º–∏. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–µ–ª–∞—é—Ç –∫–æ–¥ –≥–∏–±–∫–∏–º 
–∏ –º–æ–¥—É–ª—å–Ω—ã–º, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é. (–¢–∏–ø —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, –µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç –≤—Å–µ –µ–≥–æ –º–µ—Ç–æ–¥—ã.)
```go
type MyInterface interface {
    Method1()
    Method2(a int) string
	//
}
```
**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å** ‚Äî —ç—Ç–æ –Ω–µ –∫–ª–∞—Å—Å
* –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–ª–µ–π
* –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
* —Ç–æ–ª—å–∫–æ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –º–µ—Ç–æ–¥–æ–≤
## –§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã Go
| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å                    | –ü–∞–∫–µ—Ç                 | –ú–µ—Ç–æ–¥—ã                               | –ì–¥–µ –∫—Ä–∏—Ç–∏—á–µ–Ω               |
| ---------------------------- | --------------------- | ------------------------------------ | -------------------------- |
| `error`                      | builtin               | `Error() string`                     | –í—Å—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫       |
| `io.Reader`                  | `io`                  | `Read([]byte) (int, error)`          | –§–∞–π–ª—ã, —Å–µ—Ç—å, HTTP, gzip    |
| `io.Writer`                  | `io`                  | `Write([]byte) (int, error)`         | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, HTTP response |
| `io.Closer`                  | `io`                  | `Close() error`                      | –§–∞–π–ª—ã, —Å–æ–∫–µ—Ç—ã              |
| `io.ReadCloser`              | `io`                  | Reader + Closer                      | `http.Response.Body`       |
| `io.Seeker`                  | `io`                  | `Seek(offset, whence)`               | –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏           |
| `fmt.Stringer`               | `fmt`                 | `String() string`                    | –ö–∞—Å—Ç–æ–º–Ω—ã–π –≤—ã–≤–æ–¥            |
| `context.Context`            | `context`             | `Deadline(), Done(), Err(), Value()` | –û—Ç–º–µ–Ω–∞, —Ç–∞–π–º–∞—É—Ç—ã           |
| `http.Handler`               | `net/http`            | `ServeHTTP(w, r)`                    | –í–µ—Å—å HTTP-—Å–µ—Ä–≤–µ—Ä           |
| `sort.Interface`             | `sort`                | `Len(), Less(), Swap()`              | –ö–∞—Å—Ç–æ–º–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞       |
| `encoding/json.Marshaler`    | `encoding/json`       | `MarshalJSON()`                      | –ö–∞—Å—Ç–æ–º–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è     |
| `encoding/json.Unmarshaler`  | `encoding/json`       | `UnmarshalJSON()`                    | –ö–∞—Å—Ç–æ–º–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥          |
| `database/sql.Scanner`       | `database/sql`        | `Scan(src any)`                      | –ß—Ç–µ–Ω–∏–µ –∏–∑ –ë–î               |
| `database/sql/driver.Valuer` | `database/sql/driver` | `Value()`                            | –ó–∞–ø–∏—Å—å –≤ –ë–î                |

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
–ù–∏–∫–∞–∫–æ–≥–æ –∫–ª—é—á–µ–≤–æ–≥–æ —Å–ª–æ–≤–∞ –Ω–µ—Ç:
```go
type Dog struct{}

func (d Dog) Speak() string {
    return "woof"
}

type Speaker interface {
    Speak() string
}
```
Dog –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç Speaker.

## –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã?
### 1. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è 
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏, –∞ —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º.
–ü—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ —É–º–µ–µ—Ç —á–∏—Ç–∞—Ç—å - –∑–Ω–∞—á–∏—Ç —ç—Ç–æ `Reader`
```go
type Reader interface {
    Read(p []byte) (n int, err error)
}

// –ª—é–±–æ–π —Ç–∏–ø —Å —Ç–∞–∫–∏–º –º–µ—Ç–æ–¥–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è Reader
```
### 3. –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º
```go
type Namer interface {
    Name() string
}

type User struct {
    username string
}

func (u User) Name() string {
    return u.username
}
func PrintName(n Namer) {
    fmt.Println(n.Name())
}
// User –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑—É–µ—Ç Namer, –ø–æ—Ç–æ–º—É —á—Ç–æ —É –Ω–µ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ Name() string.
// –ï—Å–ª–∏ func (u *User) Name() string, —Ç–æ *User —Ä–µ–∞–ª–∏–∑—É–µ—Ç Namer, User ‚Äî —É–∂–µ –Ω–µ—Ç
```
–§—É–Ω–∫—Ü–∏–∏ –Ω–µ –≤–∞–∂–Ω–æ, –∫–∞–∫–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø –ø–µ—Ä–µ–¥–∞–Ω ‚Äî –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –±—ã–ª –º–µ—Ç–æ–¥ Name().

## –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (–æ—á–µ–Ω—å –≤–∞–∂–Ω–æ ‚ö†Ô∏è)
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω—É—Ç—Ä–∏ ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π: `(type, value)`
–ù–∞–ø—Ä–∏–º–µ—Ä:
```go
var s Speaker

// –ï—Å–ª–∏ —Ç—É–¥–∞ –ø–æ–ª–æ–∂–∏—Ç—å:
var d Dog
s = d

// –¢–æ –≤–Ω—É—Ç—Ä–∏ –±—É–¥–µ—Ç: (type: Dog, value: Dog{})
```

## –ù—É–ª–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –ø–æ–¥–≤–æ–¥–Ω—ã–π –∫–∞–º–µ–Ω—å ‚Ññ1
–í–æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:
```go
var s Speaker
fmt.Println(s == nil) // true

// –ù–æ:

var d *Dog = nil
var s Speaker = d

fmt.Println(s == nil) // false !!!

// –ü–æ—á–µ–º—É? –ü–æ—Ç–æ–º—É —á—Ç–æ –≤–Ω—É—Ç—Ä–∏:  (type: *Dog, value: nil)
// –¢–∏–ø –µ—Å—Ç—å ‚Üí –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ nil.
```
üî• –≠—Ç–æ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö –±–∞–≥–æ–≤ –≤ Go.

## –ü—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
`interface{}` - –ø—É—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ –º–µ—Ç–æ–¥–æ–≤. –ï–≥–æ —Ä–µ–∞–ª–∏–∑—É—é—Ç –í–°–ï —Ç–∏–ø—ã. –í Go 1.18 –ø–æ—è–≤–∏–ª—Å—è alias: `any`.
–¢–æ –∂–µ —Å–∞–º–æ–µ, –Ω–æ —á–∏—Ç–∞–µ—Ç—Å—è –ª—É—á—à–µ.

## Type assertion (–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–∞)
```go
// –ï—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
var i interface{} = "hello"

// –ú–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–π —Ç–∏–ø i.(T):
s := i.(string)

// –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç s, ok := i.(T):
// T - –ª—é–±–æ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø
s, ok := i.(string)
```

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ —É–∫–∞–∑–∞—Ç–µ–ª–∏
```go
// –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –æ–±—ä—è–≤–ª–µ–Ω —Å pointer receiver:
func (d *Dog) Speak() string

// –¢–æ:
// *Dog —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
// Dog –ù–ï —Ä–µ–∞–ª–∏–∑—É–µ—Ç

// –ü—Ä–∏–º–µ—Ä:
type Speaker interface {
    Speak() string
}

// –ï—Å–ª–∏ Speak() —É *Dog, —Ç–æ:
var d Dog
var s Speaker = d   // ‚ùå –æ—à–∏–±–∫–∞

// –ù–æ:
var s Speaker = &d  // ‚úÖ
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ø–æ–º–æ—â—å—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
```go
package main

import (
	"errors"
	"fmt"
)

/*
error ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ –¥–µ—Ñ–æ–ª—Ç—É:

type error interface {
    Error() string
}
*/

// 1Ô∏è‚É£ –ö–∞—Å—Ç–æ–º–Ω–∞—è –æ—à–∏–±–∫–∞
type MyError struct {
	msg string
}

func (e MyError) Error() string {
	return e.msg
}

// 2Ô∏è‚É£ –û—à–∏–±–∫–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
type TemporaryError struct {
	msg string
}

func (e TemporaryError) Error() string {
	return e.msg
}

func (e TemporaryError) Temporary() bool {
	return true
}

// 3Ô∏è‚É£ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–≤–µ—Ä—Ö error
type Temporary interface {
	error
	Temporary() bool
}

// 4Ô∏è‚É£ –°–µ–Ω—Ç–∏–Ω–µ–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞
var ErrNotFound = errors.New("not found")

// 5Ô∏è‚É£ –§—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è error
func Do(mode int) (int, error) {

	switch mode {

	case 0:
		return 42, nil

	case 1:
		return 0, MyError{"custom failure"}

	case 2:
		return 0, fmt.Errorf("wrapped: %w", ErrNotFound)

	case 3:
		return 0, TemporaryError{"temporary failure"}

	case 4:
		// ‚ùó –û–ü–ê–°–ù–û: typed nil
		var e *MyError = nil
		return 0, e // –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ù–ï –±—É–¥–µ—Ç nil

	default:
		return 0, nil
	}
}

func main() {

	v, err := Do(2)

	// 6Ô∏è‚É£ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
	if err != nil {

		// 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ errors.Is (—É—á–∏—Ç—ã–≤–∞–µ—Ç wrapping)
		if errors.Is(err, ErrNotFound) {
			fmt.Println("not found detected")
		}

		// 8Ô∏è‚É£ –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–∏–ø—É
		var myErr MyError
		if errors.As(err, &myErr) {
			fmt.Println("MyError:", myErr.msg)
		}

		// 9Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
		if t, ok := err.(Temporary); ok && t.Temporary() {
			fmt.Println("temporary error ‚Äî retry possible")
		}

		fmt.Println("error:", err)
		return
	}

	fmt.Println("value:", v)
}
```

## –ú–∞–ª–µ–Ω—å–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Äî –∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–π —Å—Ç–∏–ª—å Go
Go-–ø—Ä–∏–Ω—Ü–∏–ø:
    | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–ª–µ–Ω—å–∫–∏–º–∏.

–ü—Ä–∏–º–µ—Ä –∏–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:
* io.Reader
* io.Writer
* io.Closer
* 
–ö–∞–∂–¥—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî 1 –º–µ—Ç–æ–¥.
–≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –≥–∏–±–∫–∏–º.

## –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏
### ‚ö†Ô∏è 1. nil –≤–Ω—É—Ç—Ä–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (—Å–∞–º—ã–π –æ–ø–∞—Å–Ω—ã–π)
—Å–º–æ—Ç—Ä–∏ [–ø–µ—Ä–µ–π—Ç–∏ –∫ —Ä–∞–∑–¥–µ–ª—É](#–Ω—É–ª–µ–≤–æ–π-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-–∏-–ø–æ–¥–≤–æ–¥–Ω—ã–π-–∫–∞–º–µ–Ω—å-1)
### ‚ö†Ô∏è 2. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å—Ä–∞–≤–Ω–∏–º—ã —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Ö underlying value —Å—Ä–∞–≤–Ω–∏–º.
–ù–µ–ª—å–∑—è —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å:
```go
[]int
map[string]int
```
–ë—É–¥–µ—Ç panic.
### ‚ö†Ô∏è 3. –ü–æ—Ç–µ—Ä—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü–∏—é.
–í –≥–æ—Ä—è—á–∏—Ö —Ü–∏–∫–ª–∞—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ.
### ‚ö†Ô∏è 4. –°–∫—Ä—ã—Ç—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ï—Å–ª–∏ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø–æ–ª–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```go
type Service struct {
    repo Repository
}
```
–¢—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.
### ‚ö†Ô∏è 5. –£—Ç–µ—á–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–æ–≤
```go
// –ø–ª–æ—Ö–æ
type Repository interface {
GetUser() *PostgresUser
}
```
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –¥–æ–ª–∂–µ–Ω –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.