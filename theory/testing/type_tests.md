# üìå 1. –ó–∞—á–µ–º –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã?
–¢–µ—Å—Ç—ã –Ω—É–∂–Ω—ã, —á—Ç–æ–±—ã:
‚úÖ –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞
   –¢—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–±–µ–∂–¥–∞–µ—à—å—Å—è, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–ª–∞–µ—Ç –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –¥–æ–ª–∂–Ω–∞.

‚úÖ –ó–∞—â–∏—â–∞—Ç—å—Å—è –æ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π
   –ï—Å–ª–∏ –ø–æ–∑–∂–µ –∏–∑–º–µ–Ω–∏—à—å –∫–æ–¥, —Ç–µ—Å—Ç—ã –ø–æ–∫–∞–∂—É—Ç, —á—Ç–æ —Ç—ã –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–∞.

‚úÖ –£–ø—Ä–æ—Å—Ç–∏—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
   –ú–æ–∂–Ω–æ —Å–ø–æ–∫–æ–π–Ω–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é ‚Äî –µ—Å–ª–∏ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç, –≤—Å—ë –æ–∫.

‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ
   –¢–µ—Å—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—è.
# üìå 2. –ö–∞–∫ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã –≤ Go
## üîπ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞
* –§–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è:
```go
something_test.go
```
* –§—É–Ω–∫—Ü–∏—è —Ç–µ—Å—Ç–∞ –¥–æ–ª–∂–Ω–∞ –∏–º–µ—Ç—å –≤–∏–¥:
```go
func TestSomething(t *testing.T)
```
- –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ _test.go
- –§—É–Ω–∫—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å Test
- –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä *testing.T
- –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

## üîπ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: `go test`

–° –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏: `go test -v`

–î–ª—è –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ –≤ –ø—Ä–æ–µ–∫—Ç–µ: `go test ./...`
# üìå 3. –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ testing
* `t.Errorf()` ‚Äì —Å–æ–æ–±—â–∞–µ—Ç –æ–± –æ—à–∏–±–∫–µ, –Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞.
* `t.Fatalf()` ‚Äì —Å–æ–æ–±—â–∞–µ—Ç –æ–± –æ—à–∏–±–∫–µ –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞.
* `t.Logf()` ‚Äì –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å —Ñ–ª–∞–≥–æ–º -v.
* `t.Skipf()` ‚Äì –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ç–µ—Å—Ç –∏ –≤—ã–≤–æ–¥–∏—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
* `t.Parallel()` ‚Äì —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —Ç–µ—Å—Ç –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –¥—Ä—É–≥–∏–º–∏.
* `t.Run()` ‚Äì –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–¥-—Ç–µ—Å—Ç—ã.

**–ü—Ä–∏–º–µ—Ä —Å Fatal**:
```go
func TestDivide(t *testing.T) {
	result := Divide(10, 0)

	if result != 0 {
		t.Fatal("division by zero should return 0")
	}
}

```
# üìå 4. –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
## üîπ Table-Driven Tests
–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∏–ª—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Go.
–û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ —Ä–∞–∑–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ –∫–æ–¥–∞.
üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
–°–æ–∑–¥–∞—ë—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Ç–µ—Å—Ç–æ–≤ (—Å—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä), –≥–¥–µ:
* –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
* –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–î–∞–ª–µ–µ –º—ã –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º –µ—ë —Ü–∏–∫–ª–æ–º.
```go
func TestSum(t *testing.T) {

	// –¢–∞–±–ª–∏—Ü–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–ª—É—á–∞–µ–≤
	tests := []struct {
		a, b int // –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
		want int // –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
	}{
		{1, 2, 3},     // –æ–±—ã—á–Ω—ã–π —Å–ª—É—á–∞–π
		{5, 5, 10},    // —Ä–∞–≤–Ω—ã–µ —á–∏—Å–ª–∞
		{-1, 1, 0},    // –≥—Ä–∞–Ω–∏—á–Ω—ã–π —Å–ª—É—á–∞–π
	}

	// –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ —Ç–µ—Å—Ç-–∫–µ–π—Å—ã
	for _, tt := range tests {

		// –í—ã–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º—É—é —Ñ—É–Ω–∫—Ü–∏—é
		got := Sum(tt.a, tt.b)

		// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
		if got != tt.want {
			t.Errorf(
				"Sum(%d, %d) = %d; want %d",
				tt.a, tt.b, got, tt.want,
			)
		}
	}
}
```
## üîπ Subtests (t.Run)
–ü–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–∑–±–∏—Ç—å –æ–¥–∏–Ω –±–æ–ª—å—à–æ–π —Ç–µ—Å—Ç –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –ø–æ–¥-—Ç–µ—Å—Ç—ã.

–≠—Ç–æ —É–¥–æ–±–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ:
* –∫–∞–∂–¥—ã–π –∫–µ–π—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ
* –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–µ–π—Å
* –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
–ö–∞–∂–¥—ã–π –∫–µ–π—Å –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ t.Run(), –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ç–µ—Å—Ç –≤–Ω—É—Ç—Ä–∏ —Ç–µ—Å—Ç–∞.
```go
func TestSum(t *testing.T) {

	tests := []struct {
		name string // –∏–º—è —Ç–µ—Å—Ç–∞
		a, b int
		want int
	}{
		{"positive numbers", 1, 2, 3},
		{"zeros", 0, 0, 0},
		{"negative numbers", -1, -1, -2},
	}

	for _, tt := range tests {

		// –°–æ–∑–¥–∞—ë–º –ø–æ–¥-—Ç–µ—Å—Ç —Å –∏–º–µ–Ω–µ–º
		t.Run(tt.name, func(t *testing.T) {

			got := Sum(tt.a, tt.b)

			if got != tt.want {
				t.Errorf("got %d, want %d", got, tt.want)
			}
		})
	}
}
```
## üîπ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
üìå –ó–∞—á–µ–º –Ω—É–∂–Ω–æ
–ï—Å–ª–∏ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç error, –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
* —á—Ç–æ –æ—à–∏–±–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
* —á—Ç–æ –µ—ë –Ω–µ—Ç, –∫–æ–≥–¥–∞ –≤—Å—ë –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
–≠—Ç–æ –≤–∞–∂–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ—à–∏–±–∫–∏ ‚Äî —á–∞—Å—Ç—å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–∏.

üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç:
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ err.
```go
func TestParse(t *testing.T) {

	// –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º –≤–≤–æ–¥–æ–º
	_, err := Parse("bad input")

	// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –æ—à–∏–±–∫–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–æ–∑–Ω–∏–∫–ª–∞
	if err == nil {
		t.Error("expected error, got nil")
	}
}
```
## üîπ Benchmark-—Ç–µ—Å—Ç—ã
**–ë–µ–Ω—á–º–∞—Ä–∫–∏–Ω–≥** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–º–µ—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞. –í Go —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏
–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–æ–Ω—è—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–≤–æ–π –∫–æ–¥.

üìå –ó–∞—á–µ–º –Ω—É–∂–Ω—ã
–ü–æ–∑–≤–æ–ª—è—é—Ç –∏–∑–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
* —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—è
* —Å–∫–æ–ª—å–∫–æ –ø–∞–º—è—Ç–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞.

üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
Go –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –º–Ω–æ–≥–æ —Ä–∞–∑ (b.N), —á—Ç–æ–±—ã –∏–∑–º–µ—Ä–∏—Ç—å —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
```go
func BenchmarkSum(b *testing.B) {

	// –¶–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è b.N —Ä–∞–∑
	// Go —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Ç–µ—Ä–∞—Ü–∏–π
	for i := 0; i < b.N; i++ {

		// –¢–µ—Å—Ç–∏—Ä—É–µ–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
		Sum(2, 3)
	}
}
```
–ó–∞–ø—É—Å–∫ -> `go test -bench=.`
## üîπ Mock (—á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
üìå –ó–∞—á–µ–º –Ω—É–∂–µ–Ω
–ï—Å–ª–∏ –∫–æ–¥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç:
* –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
* HTTP
* –≤–Ω–µ—à–Ω–µ–≥–æ API
–ú—ã –Ω–µ —Ö–æ—Ç–∏–º –≤—ã–∑—ã–≤–∞—Ç—å –∏—Ö –≤ —Ç–µ—Å—Ç–∞—Ö. –ü–æ—ç—Ç–æ–º—É —Å–æ–∑–¥–∞—ë–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ –ø–æ–¥–º–µ–Ω—è–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ñ–µ–π–∫–æ–≤–æ–π.

üìå –ß—Ç–æ –¥–µ–ª–∞–µ—Ç
–ü–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–≥–æ.
```go
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
type UserRepository interface {
	GetUser(id int) string
}

// –°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
type Service struct {
	repo UserRepository
}

func (s *Service) GetName(id int) string {
	return s.repo.GetUser(id)
}
```
**–ú–æ–∫ –¥–ª—è —Ç–µ—Å—Ç–∞:**
```go
// –§–µ–π–∫–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
type MockRepo struct{}

// –ú–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
func (m *MockRepo) GetUser(id int) string {
	return "Alice"
}

func TestService(t *testing.T) {

	// –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –º–æ–∫ –≤–º–µ—Å—Ç–æ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
	mock := &MockRepo{}

	service := Service{repo: mock}

	// –í—ã–∑—ã–≤–∞–µ–º —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –º–µ—Ç–æ–¥
	name := service.GetName(1)

	// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
	if name != "Alice" {
		t.Errorf("expected Alice, got %s", name)
	}
}
```
## üîπ HTTP-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (httptest)
üìå –ó–∞—á–µ–º –Ω—É–∂–Ω–æ
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å HTTP-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.

–≠—Ç–æ:
* –±—ã—Å—Ç—Ä–æ
* –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ
* –±–µ–∑–æ–ø–∞—Å–Ω–æ
```go
func TestHandler(t *testing.T) {

	// –°–æ–∑–¥–∞—ë–º —Ç–µ—Å—Ç–æ–≤—ã–π HTTP-–∑–∞–ø—Ä–æ—Å
	req := httptest.NewRequest("GET", "/hello", nil)

	// –°–æ–∑–¥–∞—ë–º "–∑–∞–ø–∏—Å—ã–≤–∞—Ç–µ–ª—å" –æ—Ç–≤–µ—Ç–∞
	rr := httptest.NewRecorder()

	// –í—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–ø—Ä—è–º—É—é
	handler(rr, req)

	// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å-–∫–æ–¥
	if rr.Code != http.StatusOK {
		t.Errorf("expected status 200, got %d", rr.Code)
	}

	// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞
	if rr.Body.String() != "hello" {
		t.Errorf("unexpected body: %s", rr.Body.String())
	}
}
```
## üîπParallel Testing (–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
**Parallel Testing** ‚Äî —ç—Ç–æ –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤), –∞ –Ω–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
–í Go –¥–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ç–æ–¥: `t.Parallel()`
–û–Ω —Å–æ–æ–±—â–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤–æ–º—É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É: ¬´–≠—Ç–æ—Ç —Ç–µ—Å—Ç –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –¥—Ä—É–≥–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏¬ª.
üìå –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ
1Ô∏è‚É£ –£—Å–∫–æ—Ä–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
–ï—Å–ª–∏ —Ç–µ—Å—Ç–æ–≤ –º–Ω–æ–≥–æ, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –º–∏–Ω—É—Ç—ã.
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å.

2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
–ï—Å–ª–∏ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å:
* –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏
* –æ–±—â–µ–π –ø–∞–º—è—Ç—å—é
* –≥–ª–æ–±–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–º–æ–≥–∞—é—Ç –≤—ã—è–≤–∏—Ç—å race condition.

3Ô∏è‚É£ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
–í —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ –∫–æ–¥ —á–∞—Å—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–∏–±–ª–∏–∂–∞—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É —Å—Ü–µ–Ω–∞—Ä–∏—é.

### 1. **–ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**
```go
func TestSum1(t *testing.T) {
	t.Parallel() // —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —ç—Ç–æ–≥–æ —Ç–µ—Å—Ç–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

	result := Sum(1, 2)

	if result != 3 {
		t.Error("expected 3")
	}
}

func TestSum2(t *testing.T) {
	t.Parallel() // —ç—Ç–æ—Ç —Ç–µ—Å—Ç —Ç–æ–∂–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

	result := Sum(2, 2)

	if result != 4 {
		t.Error("expected 4")
	}
}
```

### 2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ subtests (—á–∞—Å—Ç—ã–π production-–ø–∞—Ç—Ç–µ—Ä–Ω)**
–û—á–µ–Ω—å —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å table-driven —Ç–µ—Å—Ç–∞–º–∏.
```go
func TestSum(t *testing.T) {

	tests := []struct {
		name string
		a, b int
		want int
	}{
		{"positive numbers", 1, 2, 3},
		{"zeros", 0, 0, 0},
		{"negative numbers", -1, -1, -2},
	}

	for _, tt := range tests {

		tt := tt // –≤–∞–∂–Ω–æ! —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏

		t.Run(tt.name, func(t *testing.T) {

			t.Parallel() // –∫–∞–∂–¥—ã–π subtest –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

			got := Sum(tt.a, tt.b)

			if got != tt.want {
				t.Errorf("got %d, want %d", got, tt.want)
			}
		})
	}
}
```
‚ö† **–ü–æ—á–µ–º—É tt := tt –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ?**
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–∏–∫–ª–∞ –≤ Go –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.
–ï—Å–ª–∏ –µ—ë –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≤—Å–µ subtests –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é.
–≠—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º —Ç–µ—Å—Ç–∞–º.
## üîπ –ü–æ–ª–µ–∑–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
`go test -cover` -> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏.

`go test -coverprofile=coverage.out` -> –î–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏.

`go tool cover -html=coverage.out` -> –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫—Ä—ã—Ç–∏—è.
! –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫–∞—è —á–∞—Å—Ç—å –∫–æ–¥–∞ –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –≤–æ –≤—Ä–µ–º—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
  –í—ã—Å–æ–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫, –Ω–æ –ø–æ–º–æ–≥–∞–µ—Ç –≤—ã—è–≤–∏—Ç—å –Ω–µ–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞.

`httptest` (`import "net/http/httptest"`) -> –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è HTTP-—Å–µ—Ä–≤–µ—Ä–æ–≤.

–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
* testify
* gomock

